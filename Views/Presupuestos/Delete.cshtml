@model espacioPresupuestos.Presupuesto

@{
    ViewData["Title"] = "Eliminar Presupuesto";
}

<div class="container mt-3">
    <h2>Eliminar Presupuesto #@Model.idPresupuesto</h2>

    <p><strong>Destinatario:</strong> @Model.nombreDestinatario</p>
    <p><strong>Fecha:</strong> @Model.fechaCreacion.ToString("g")</p>

    <h4>Productos asociados</h4>
    @if (Model.detalle == null || !Model.detalle.Any())
    {
        <div class="alert alert-info">No hay productos asociados.</div>
    }
    else
    {
        <ul>
            @foreach (var d in Model.detalle)
            {
                <li>@(d.producto?.descripcion ?? "-") - Cantidad: @d.cantidad</li>
            }
        </ul>
    }

    <form asp-action="Delete" method="post">
        <input type="hidden" name="id" value="@Model.idPresupuesto" />
        <button type="submit" class="btn btn-danger">Eliminar</button>
        <a asp-action="Index" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
